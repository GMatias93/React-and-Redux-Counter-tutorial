<!DOCTYPE html>
<html>
  <head>
    <title>Redux counter</title>
    <script src="https://npmcdn.com/redux@latest/dist/redux.min.js"></script>
    <script src="https://fb.me/react-0.14.7.js"></script>
    <script src="https://fb.me/react-dom-0.14.7.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>

  </head>
  <body>
    <div>
      <p>
          Clicked: <span id="value"></span> times
          <button id="Increment">Increment</button>
          <button id="Decrement">Decrement</button>
          <button id="asyncIncrement">Async</button>
      </p>
    </div>
    <script type="text/babel" >// action types

var INCREMENT = 'INCREMENT';
var DECREMENT = 'DECREMENT';



// actions

var incrementAction = {
    type: INCREMENT
};

var decrementAction = {
    type: DECREMENT
};


// reducers

var initialState = 0;

var counterReducer = function(state, action) {
    if(typeof state === 'undefined') {
        return initialState;
    }

    switch(action.type) {
    case INCREMENT:
        return state + 1;
    case DECREMENT:
        return state - 1;
    default:
        return state;
    }
};



// store

var store = Redux.createStore(counterReducer);
var value = document.getElementById('value');
var render = function() {
    value.innerHTML = store.getState().toString();
};

render();
store.subscribe(render);

document.getElementById('Increment')
    .addEventListener('click', function(){
        store.dispatch(incrementAction);
    });

document.getElementById('Decrement')
    .addEventListener('click', function(){
        store.dispatch(decrementAction);
    });

document.getElementById('asyncIncrement')
    .addEventListener('click', function(){
        setTimeout( function() {
            store.dispatch(incrementAction);
        }, 1000);
    });
</script>
  </body>
</html>
